<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Openwis : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Openwis</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/OpenWIS/openwis">View on GitHub</a>

          <h1 id="project_title">Openwis</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/OpenWIS/openwis/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/OpenWIS/openwis/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Contents</p>

<p>Contents    2
Purpose 2
Initial Setup   3
Repository Creation 3
Initial Population  3
Development Phase   4
Forking the Repository  4
Making Changes in the Fork  4
Merging Changes between the Fork and the Original   6
Permissions 6</p>

<p>Purpose</p>

<p>This document proposes the GitHub Branching Strategy and ‘workflow’ for use in OpenWIS development. </p>

<p>The document is written in a chronological order from repository creation and should mirror how the branches and forks interact through the release cycle.</p>

<p>Initial Setup
Repository Creation</p>

<p>The OpenWIS repository has been created by the Met Office, who are currently acting as the GitHub administrators. The repository can be accessed at <a href="https://github.com/OpenWIS/openwis">https://github.com/OpenWIS/openwis</a> and requests for access can be made via <a href="mailto:dominic.woollatt@metoffice.gov.uk">dominic.woollatt@metoffice.gov.uk</a> or <a href="mailto:cmteam@metoffice.gov.uk">cmteam@metoffice.gov.uk</a>.  </p>

<p>When a new repository was created it had one basic empty branch; master.  </p>

<p>Initial Population</p>

<p>The first commit of code to this repository was openwis-3.11 in July 2013. This code was then ‘tagged’ to create a known baseline.  </p>

<p>The master branch is supposed to represent the production or production-ready code, and therefore should not contain any development code. A new branch “develop” has been created for this very reason.</p>

<p>When openwis-3.12 was committed, the code was committed to the develop branch, merged to the master branch and tagged (again to provide a baseline)</p>

<p>Development Phase
The initial population was completed in the single repository. The repository was cloned to a local workstation and then new commits were made and the changes pushed back to the GitHub repository.</p>

<p>However because of there will be multiple developers working on OpenWIS, we need a means of isolating the development so to reduce conflicts. Rather than have the Met Office designate read\write permissions to the repository, we will allow partners to ‘fork’ the repository using GitHub’s Fork and Pull Model</p>

<p>From <a href="https://help.github.com/articles/using-pull-requests/">https://help.github.com/articles/using-pull-requests/</a> </p>

<p>The Fork &amp; Pull Model lets anyone fork an existing repository and push changes to their personal fork without requiring access be granted to the source repository. The changes must then be pulled into the source repository by the project maintainer. This model reduces the amount of friction for new contributors and is popular with open source projects because it allows people to work independently without upfront coordination.</p>

<p>Forking will allow developers to take exact ‘mirrors’ of the OpenWIS repository and make changes without affecting the original.
Forking the Repository</p>

<p>Log in to GitHub and browse to the repository - <a href="https://github.com/OpenWIS/openwis">https://github.com/OpenWIS/openwis</a>. You will see a ‘Fork’ button in the top left corner, click on Fork</p>

<p>You will be given an option of where to fork this repository, select your GitHub username. After a short delay you will be presented with your forked repository. You now have full read/write control over this repository.
Making Changes in the Fork</p>

<p>Whilst you can make as many forks as required, there are two real options – one fork for each user or one fork for each partner. Both have benefits and drawbacks, but both methods will use the below methodology.</p>

<p>If you decide to have one fork per user, you will need to do a lot more merging between the forks to ensure everyone’s changes end up in one repository that can be merged back to the original. If you decide to create one fork per partner, then there is less fork merging but you may have to administer access right to ensure all required users have access to the fork.</p>

<p>It is probably easier to have one fork per partner.</p>

<p>The most simple way of working would be to change code and commit directly to the develop branch. However for a number of reasons, this is not recommended.  To enable you to isolate code for individual bug fixes or new features you should create a new feature branch off of develop for each bug or feature you wish to implement. This is achieved by using the git branch command (or similar if you are using a Graphical User Interface or Integrated Development Environment).</p>

<p>This allows code can be committed to individual branches specifically created for a unit of work. This allows that unit of work to be merged back to the develop branch without pulling in any other units of work. </p>

<p>If you are working with the one fork per partner model, then the branches also ensure that developers code is isolated from each other’s meaning that one developer’s broken, erroneous, trial or mid-development code is not affecting any other developers. </p>

<p>Remember all of these branches are in your fork, and are not affecting the original.</p>

<p>Merging Changes between the Fork and the Original</p>

<p>When you have made your changes in the fork, you need to merge your fork back to the original. GitHub has detailed information on how to merge your changes in the fork back to the original repository - <a href="https://help.github.com/articles/using-pull-requests">https://help.github.com/articles/using-pull-requests</a>.  When you create a pull request all users will be added as watchers so that they can collaborate and discuss the changes.</p>

<p>Please ensure that you do not merge to the master branch in the original.
Permissions</p>

<p>Currently, all members have write access meaning they can fork, commit to a cork and merge back to the original as well as commit directly to the original. The partners need to agree if this model is suitable or if a workflow such as the Integration-Manager-Workflow should be applied. This would allow all developers to fork and commit to their forks, but allow only named integration managers to merge pull requests and keep the original repository clear of rouge commits.</p>

<p><a href="https://help.github.com/articles/what-are-the-different-access-permissions">https://help.github.com/articles/what-are-the-different-access-permissions</a> </p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Openwis maintained by <a href="https://github.com/OpenWIS">OpenWIS</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
